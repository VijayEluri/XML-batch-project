<?xml version="1.0"?>
<?classpath
        file:/Users/geoffreyritchey/Documents/workspace/x86_bookstore/aspectjrt.jar;
        file:/Users/geoffreyritchey/Documents/workspace/x86_bookstore/cryptix/cryptix-message-api.jar;
        file:/Users/geoffreyritchey/Documents/workspace/x86_bookstore/jsch.jar;
        file:/Users/geoffreyritchey/Documents/workspace/x86_bookstore/commons-net-2.0.jar;
        file:/Users/geoffreyritchey/Documents/workspace/x86_bookstore/jdbc/jtds-1.2.3.jar
?>
<core:executer xmlns='edu.bxml.format' xmlns:io='edu.bxml.io'
                        xmlns:core='com.browsexml.core'
                        xmlns:ftp='edu.bxml.ftp'
                        xmlns:format='edu.bxml.format'
                        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                        xsi:schemaLocation="
                        edu.bxml.format file:///C:/Users/geoff.ritchey/workspace/browsexml/edu_bxml_format.xsd
                        edu.bxml.io file:///C:/Users/geoff.ritchey/workspace/browsexml/edu_bxml_io.xsd
                        edu.bxml.ftp file:///C:/Users/geoff.ritchey/workspace/browsexml/edu_bxml_ftp.xsd
                        com.browsexml.core file:///C:/Users/geoff.ritchey/workspace/browsexml/com_browsexml_core.xsd"
        >
	<properties queryName="properties" separator="," file="passwords.properties"> 
	</properties>
        <io:pipe name="pipe" toDir="." toFile="txgr.txt" iff="true">
	<query>
		<!--load name="loadTXGR" truncateFirst="true" delimit="\t" header="true" dir="." 
				file="TEGdata.txt"
				table="lcuTxGrant" connection="Campus6" quoteText="false"
				printFieldValue="true" stopAfterErrors="1" printCreateTable="false">
			<charField fieldName = "Record Code" type="CHAR" size="2" />
			<charField fieldName = "Student Ssn" type="CHAR" size="9" />
			<charField fieldName = "Is Student ID SSN?" type="CHAR" size="1" />
			<dateField fieldName = "Date Of Birth" type="DATE" format="MM/dd/yy" default="{null}"/>
			<charField fieldName = "Last Name" type="CHAR" size="30" />
			<charField fieldName = "First Name" type="CHAR" size="30" />
			<charField fieldName = "Middle Init" type="CHAR" size="1" />
			<charField fieldName = "Primary Street1" type="CHAR" size="30" >
				<replace expression="&quot;" replacement=""/>
			</charField>
			<charField fieldName = "Primary Street2" type="CHAR" size="10" />
			<charField fieldName = "Primary City" type="CHAR" size="20" />
			<charField fieldName = "Primary State" type="CHAR" size="2" />
			<charField fieldName = "Primary Zipcode" type="CHAR" size="9" />
			<charField fieldName = "Zip extention" type="CHAR" size="4" />
			<charField fieldName = "Filler" type="CHAR" size="1" />
			<charField fieldName = "Legal Residence" type="CHAR" size="1" />
			<charField fieldName = "Year In School" type="CHAR" size="1" />
			<numberField fieldName = "Tot Budget" type="NUMBER" size="5" padleft="0" default="{null}"/> 
			<charField fieldName = "Tfc" type="CHAR" size="6" padleft="0"/> 
			<numberField fieldName = "Disbursed Amt" type="NUMBER" size="6" padleft="0" default="{null}"/> 
			<numberField fieldName = "Tuition Differential" type="NUMBER" size="6" padleft="0" default="{null}"/> 
			<charField fieldName = "Athletic" type="CHAR" size="1" default="N"/> 
			<numberField fieldName = "Selective Service Reg" type="NUMBER" size="1"  default="{null}"/> 
			<charField fieldName = "TEXAS Grant &amp; TEG" type="CHAR" size="1" /> 
			<dateField fieldName = "Date TEG Awarded" type="DATE" format="MMddyyyy" default="{null}"/> 
			<charField fieldName = "Initial/Renewal" type="CHAR" size="1" /> 
			<numberField fieldName = "Hardship" type="NUMBER" size="1"  default="{null}"/> 
			<numberField fieldName = "Prof Judge" type="NUMBER" size="1"  default="{null}"/>
			<numberField fieldName = "Overall Completion Rate" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Fall 2011 Hours Attempted" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Spring 2012 Hours Attempted" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Winter 2011 Hours Attempted" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Summer 2012 Hours Attempted" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Student's Overall Cumulative GPA" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<numberField fieldName = "Total Number of Hours Complted in Award Period" type="NUMBER" size="3" padleft="0" default="{null}"/> 
			<charField fieldName = "Disbursement after student no longer enrolled" type="CHAR" size="1"  default="{null}"/> 
			<dateField fieldName = "Date Student Received Degree" type="DATE" size="8" format="MMddyyyy" default="{null}"/> 
			<charField fieldName = "SAP" type="CHAR" size="1" /> 
		</load-->
		<select name="selectTXgrant" queryName="TXgrant" delimit="" >
			<header columnsNames="false">
				<footField type="CONSTANT">@H</footField>
				<footField type="CONSTANT">TEG </footField>
				<footField type="CONSTANT">003586</footField>
				<footField type="DATE" format="yyyy"/>
				<footField type="CONSTANT">FY12 TEG End-of-Year Report   </footField>
			</header>
			<key field="Student Ssn"/>
			<charField fieldName = "Record Code" type="CHAR" size="2" />
			<charField fieldName = "Student Ssn" type="CHAR" size="9" padleft="0" />
			<charField fieldName = "Is Student ID SSN?" type="CHAR" size="1" />
			<dateField fieldName = "Date Of Birth" type="DATE" format="MMddyyyy" default="00000000"/>
			<charField fieldName = "Last Name" type="CHAR" size="30" padright=" "/>
			<charField fieldName = "First Name" type="CHAR" size="30" padright=" "/>
			<charField fieldName = "Middle Init" type="CHAR" size="1" padright=" " default=" "/>
			<charField fieldName = "Primary Street1" type="CHAR" size="30" padright=" " >
				<replace expression="&quot;" replacement=""/>
			</charField>
			<charField fieldName = "Primary Street2" type="CHAR" size="10" padright=" "/>
			<charField fieldName = "Primary City" type="CHAR" size="20" padright=" "/>
			<charField fieldName = "Primary State" type="CHAR" size="2" padright=" "/>
			<charField fieldName = "Primary Zipcode" type="CHAR" size="5" default="00000" padleft="0"/>
			<charField fieldName = "Zip extention" type="CHAR" size="4" default="0000"/>
			<charField fieldName = "Filler" type="CHAR" size="1" padright=" "/>
			<charField fieldName = "Legal Residence" type="CHAR" size="1" />
			<charField fieldName = "Year In School" type="CHAR" size="1" />
			<numberField fieldName = "Tot Budget" type="NUMBER" size="5" padleft="0" default="00000"/> 
			<charField fieldName = "Tfc" type="CHAR" size="6" padleft="0"/> 
			<numberField fieldName = "Disbursed Amt" type="NUMBER" size="6" padleft="0" default="000000"/> 
			<numberField fieldName = "Tuition Differential" type="NUMBER" size="6" padleft="0" default="000000"/> 
			<charField fieldName = "Athletic" type="CHAR" size="1" default="N"/> 
			<numberField fieldName = "Selective Service Reg" type="NUMBER" size="1"  default="0"/> 
			<charField fieldName = "TEXAS Grant &amp; TEG" type="CHAR" size="1" /> 
			<dateField fieldName = "Date TEG Awarded" type="DATE" format="MMddyyyy" default="00000000"/> 
			<charField fieldName = "Initial/Renewal" type="CHAR" size="1" /> 
			<numberField fieldName = "Hardship" type="NUMBER" size="1"  default="0"/> 
			<numberField fieldName = "Prof Judge" type="NUMBER" size="1"  default="0"/>
			<numberField fieldName = "Overall Completion Rate" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Fall 2011 Hours Attempted" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Spring 2012 Hours Attempted" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Winter 2011 Hours Attempted" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Summer 2012 Hours Attempted" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Student's Overall Cumulative GPA" type="NUMBER" size="3" padleft="0" default="000"/> 
			<numberField fieldName = "Total Number of Hours Complted in Award Period" type="NUMBER" size="3" padleft="0" default="000"/> 
			<charField fieldName = "Disbursement after student no longer enrolled" type="CHAR" size="1"  default="0"/> 
			<dateField fieldName = "Date Student Received Degree" type="DATE" size="8" format="MMddyyyy" default="00000000"/> 
			<charField fieldName = "SAP" type="CHAR" size="1" /> 
			<footer>
				<footField type="CONSTANT">@T</footField>
				<footField type="CONSTANT">EOF</footField>
				<footField type="COUNT" size="5" padleft="0"/>
				<footField type="SQL">              
					<select name="sum" queryName="TegTotal">
						<numberField fieldName="total" type="NUMBER" size="10" padleft="0"/>
					</select>
				</footField>
			</footer>
		</select>
		<connection name="Campus6" login="sa" password="${password}"
				class="net.sourceforge.jtds.jdbc.Driver"
				url="jdbc:jtds:sqlserver://kindness.lcunet.lcu.edu/Area51;instance=powercampus" >
			<sql name="TXgrant">
	<![CDATA[
SELECT [Record Code] ,[Student Ssn] ,[Is Student ID SSN?] ,[Date Of Birth] ,[Last Name] ,[First Name]
      ,[Middle Init] ,[Primary Street1] ,[Primary Street2] ,[Primary City] ,[Primary State]
      ,[Primary Zipcode] ,[Filler] ,[Legal Residence] ,[Year In School] ,[Tot Budget]
      ,[Tfc] ,[Disbursed Amt]*100 ,[Tuition Differential] ,[Athletic] ,[Selective Service Reg]
      ,[TEXAS Grant & TEG] ,[Date TEG Awarded] ,[Initial/Renewal] ,[Hardship] ,[Prof Judge]
      ,[Overall Completion Rate] ,[Fall 2011 Hours Attempted] ,[Spring 2012 Hours Attempted] ,[Winter 2011 Hours Attempted]
      ,[Summer 2012 Hours Attempted] ,[Student's Overall Cumulative GPA] ,[Total Number of Hours Complted in Award Period]
      ,[Disbursement after student no longer enrolled] ,[Date Student Received Degree] ,[SAP]
  FROM [Area51].[dbo].[lcuTxGrant]
	]]>
			</sql>
			<sql name="TegTotal">
	<![CDATA[
SELECT sum([Disbursed Amt])*100 as total
  FROM [Area51].[dbo].[lcuTxGrant]
	]]>
			</sql>
		</connection>
	</query>
	</io:pipe>
</core:executer>
